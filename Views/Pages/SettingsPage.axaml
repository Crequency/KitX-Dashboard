<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:KitX_Dashboard.ViewModels"
             xmlns:ui="using:FluentAvalonia.UI.Controls"
             xmlns:uip="using:FluentAvalonia.UI.Controls.Primitives"
             xmlns:icon="using:Material.Icons.Avalonia"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="KitX_Dashboard.Views.Pages.SettingsPage"
             FontFamily="Cascadia Code Mono">

  <Design.DataContext>
    <vm:SettingsViewModel/>
  </Design.DataContext>
  
  <TabControl SelectedIndex="{Binding TabControlSelectedIndex}">

    <!-- <General> -->
    <TabItem Width="200">
      <TabItem.Header>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
          <icon:MaterialIcon Kind="Globe" VerticalAlignment="Center" FontSize="18" Margin="5,0"/>
          <TextBlock Text="{DynamicResource Text_Settings_Tab_General}" FontSize="18" VerticalAlignment="Center"/>
        </StackPanel>
      </TabItem.Header>

      <ScrollViewer HorizontalScrollBarVisibility="Disabled">
        <StackPanel Orientation="Vertical" Margin="0,10">

          <Expander Margin="20,5">
            <Expander.Header>
              <StackPanel Orientation="Horizontal" VerticalAlignment="Center" DockPanel.Dock="Left">
                <icon:MaterialIcon Kind="Palette" Margin="5,0"/>
                <TextBlock Text="{DynamicResource Text_Settings_Tab_General_Palette}"/>
              </StackPanel>
            </Expander.Header>

            <DockPanel Margin="10">
              <ui:ColorPicker Color="{DynamicResource ThemePrimaryAccent}" DockPanel.Dock="Left" ColorTextType="HexAlpha"
                              IsMoreButtonVisible="True" IsCompact="False" IsAlphaEnabled="True"
                              UseColorWheel="True" UseColorTriangle="True" UseColorPalette="False"
                              UseSpectrum="True"/>
              <Border DockPanel.Dock="Right">
                <Button Content="{DynamicResource Text_Public_Confirm}"
                        HorizontalAlignment="Right" VerticalAlignment="Bottom"/>
              </Border>
              <Border/>
            </DockPanel>

          </Expander>

          <ui:InfoBar IsOpen="True" IsIconVisible="False" IsClosable="False" Margin="20,5">
            <DockPanel Margin="0,10,10,10">
              <StackPanel Orientation="Horizontal" VerticalAlignment="Center" DockPanel.Dock="Left">
                <icon:MaterialIcon Kind="Brightness4" Margin="5,0"/>
                <TextBlock Text="{DynamicResource Text_Settings_Tab_General_Theme}"/>
              </StackPanel>

              <ComboBox DockPanel.Dock="Right" SelectedItem="{Binding CurrentAppTheme}" Items="{Binding AppThemes}"/>

              <Border/>
            </DockPanel>
          </ui:InfoBar>
          
          <ui:InfoBar IsOpen="True" IsIconVisible="False" IsClosable="False" Margin="20,5">
            <DockPanel Margin="0,10,10,10">
              <StackPanel Orientation="Horizontal" VerticalAlignment="Center" DockPanel.Dock="Left">
                <icon:MaterialIcon Kind="Language" Margin="5,0"/>
                <TextBlock Text="{DynamicResource Text_Settings_Tab_General_DisplayLanguage}"/>
              </StackPanel>

              <ComboBox SelectedIndex="{Binding LanguageSelected}" DockPanel.Dock="Right">
                <ComboBoxItem Content="{DynamicResource Text_Language_zh-cn}"/>
                <ComboBoxItem Content="{DynamicResource Text_Language_zh-cnt}"/>
                <ComboBoxItem Content="{DynamicResource Text_Language_en-us}"/>
                <ComboBoxItem Content="{DynamicResource Text_Language_ja-jp}"/>
              </ComboBox>

              <Border/>
            </DockPanel>
          </ui:InfoBar>

          <Expander Margin="20,5">
            <Expander.Header>
              <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <icon:MaterialIcon Kind="Spray" Margin="5,0"/>
                <TextBlock Text="{DynamicResource Text_Settings_Tab_General_MicaEffect}"/>
              </StackPanel>
            </Expander.Header>

            <StackPanel>
              <ui:InfoBar IsOpen="True" IsIconVisible="True" IsClosable="True" Margin="0,5"
                          Title="{DynamicResource Text_Settings_Tab_General_MicaEffect_EnableTip}"/>

              <ui:InfoBar IsOpen="True" IsIconVisible="False" IsClosable="False" Margin="0,5">
                <DockPanel Margin="0,10,10,10">
                  <StackPanel Orientation="Horizontal" VerticalAlignment="Center" DockPanel.Dock="Left">
                    <icon:MaterialIcon Kind="SelectColor" Margin="5,0"/>
                    <TextBlock Text="{DynamicResource Text_Settings_Tab_General_MicaEffect_Enable}"/>
                  </StackPanel>

                  <ComboBox SelectedIndex="{Binding MicaStatus}" DockPanel.Dock="Right">
                    <ComboBoxItem Content="{DynamicResource Text_Public_Enable}"/>
                    <ComboBoxItem Content="{DynamicResource Text_Public_Disable}"/>
                  </ComboBox>

                  <Border/>
                </DockPanel>
              </ui:InfoBar>

              <ui:InfoBar IsOpen="True" IsIconVisible="False" IsClosable="False" Margin="0,5">
                <DockPanel Margin="0,10,10,10">
                  <StackPanel Orientation="Horizontal" VerticalAlignment="Center" DockPanel.Dock="Left">
                    <icon:MaterialIcon Kind="Opacity" Margin="5,0"/>
                    <TextBlock Text="{DynamicResource Text_Settings_Tab_General_MicaEffect_Opacity}"/>
                  </StackPanel>
                  
                  <Slider DockPanel.Dock="Right" Width="250" Minimum="0" Maximum="1"
                          IsSnapToTickEnabled="True" TickFrequency="0.01"
                          SmallChange="0.01" LargeChange="0.01" ToolTip.Tip="{Binding $self.Value}"
                          Value="{Binding MicaOpacity}"/>

                  <Border/>
                </DockPanel>
              </ui:InfoBar>
              
            </StackPanel>
            
          </Expander>
          
        </StackPanel>
      </ScrollViewer>
      
    </TabItem>
    <!-- </General> -->

    <!-- <Performence> -->
    <TabItem Width="200">
      <TabItem.Header>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
          <icon:MaterialIcon Kind="Speedometer" VerticalAlignment="Center" FontSize="18" Margin="5,0"/>
          <TextBlock Text="{DynamicResource Text_Settings_Tab_Performence}" FontSize="18" VerticalAlignment="Center"/>
        </StackPanel>
      </TabItem.Header>

    </TabItem>
    <!-- </Performence> -->

    <!-- <About> -->
    <TabItem Width="200">
      <TabItem.Header>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
          <icon:MaterialIcon Kind="InfoCircle" VerticalAlignment="Center" FontSize="18" Margin="5,0"/>
          <TextBlock Text="{DynamicResource Text_Settings_Tab_About}" FontSize="18" VerticalAlignment="Center"/>
        </StackPanel>
      </TabItem.Header>
      
      <ScrollViewer HorizontalScrollBarVisibility="Disabled">
        <StackPanel Orientation="Vertical" Margin="0,10">

          <Grid>

            <Button HorizontalAlignment="Center" VerticalAlignment="Top" Margin="20,20,20,25">
              <Image Source="/Assets/KitX.png" Width="128" Height="128" Margin="20"/>
            </Button>

            <Button Content="KitX" HorizontalAlignment="Center" VerticalAlignment="Bottom"
                    FontSize="30" Width="100" Background="#DD3873D9" CornerRadius="45"
                    KeyDown="AppNameButtonKeyDown" Command="{Binding AppNameButtonClickedCommand}"/>

          </Grid>

          <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5">

            <TextBlock Text="{DynamicResource Text_Settings_Tab_About_Version}" FontSize="20" Margin="2.5,0"/>

            <TextBlock Text="{Binding VersionText}" FontSize="20" Margin="2.5,0"/>

          </StackPanel>

          <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">

            <ui:HyperlinkButton NavigateUri="https://github.com/Catrol-org/KitX/"
                                ToolTip.Tip="{Binding $self.NavigateUri}"
                                Margin="5,0">
              <StackPanel Orientation="Horizontal">
                <icon:MaterialIcon Kind="Github"/>
                <TextBlock Text=" GitHub Repo "/>
              </StackPanel>
            </ui:HyperlinkButton>

            <ui:HyperlinkButton NavigateUri="https://works.catrol.cn/KitX/"
                                ToolTip.Tip="{Binding $self.NavigateUri}"
                                Margin="5,0">
              <StackPanel Orientation="Horizontal">
                <icon:MaterialIcon Kind="OfficeBuilding"/>
                <TextBlock Text=" Official Website "/>
              </StackPanel>
            </ui:HyperlinkButton>

            <ui:HyperlinkButton NavigateUri="https://blog.catrol.cn"
                                ToolTip.Tip="{Binding $self.NavigateUri}"
                                Margin="5,0">
              <StackPanel Orientation="Horizontal">
                <icon:MaterialIcon Kind="BlogOutline"/>
                <TextBlock Text=" Author Blog "/>
              </StackPanel>
            </ui:HyperlinkButton>

          </StackPanel>

          <Expander Margin="20,5">
            <Expander.Header>
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <icon:MaterialIcon Kind="InfoCircle" VerticalAlignment="Center" FontSize="18" Margin="5,0"/>
                <TextBlock Text="{DynamicResource Text_Settings_Tab_About}" FontSize="18" VerticalAlignment="Center"/>
              </StackPanel>
            </Expander.Header>

          </Expander>

          <Expander x:Name="AuthorsList" Margin="20,5" IsVisible="{Binding AuthorsListVisibility}">
            <Expander.Header>
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <icon:MaterialIcon Kind="User" VerticalAlignment="Center" FontSize="18" Margin="5,0"/>
                <TextBlock Text="{DynamicResource Text_Settings_Tab_About_Authors}" FontSize="18" VerticalAlignment="Center"/>
              </StackPanel>
            </Expander.Header>

            <WrapPanel Margin="10">
              <ui:HyperlinkButton Margin="4" Background="{DynamicResource ThemePrimaryAccentTransparent22}" Content="常青园晚" NavigateUri="https://blog.catrol.cn"/>
            </WrapPanel>

          </Expander>

          <Expander Margin="20,5">
            <Expander.Header>
              <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <icon:MaterialIcon Kind="Link" VerticalAlignment="Center" FontSize="18" Margin="5,0"/>
                <TextBlock Text="{DynamicResource Text_Settings_Tab_About_Links}" FontSize="18" VerticalAlignment="Center"/>
              </StackPanel>
            </Expander.Header>

          </Expander>



        </StackPanel>
      </ScrollViewer>
    </TabItem>
    <!-- </About> -->
  </TabControl>

</UserControl>
